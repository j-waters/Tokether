(function(e){function t(t){for(var r,a,i=t[0],s=t[1],l=t[2],d=0,f=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(f.length)f.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={app:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"0344":function(e,t,n){"use strict";n("c68a")},"136c":function(e,t,n){},"14cd":function(e,t,n){"use strict";n("2019")},1562:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="1562"},"1af1":function(e,t,n){"use strict";n("aac0")},2019:function(e,t,n){},"2fb0":function(e,t,n){"use strict";n("d86d")},"4d27":function(e,t,n){"use strict";n("6cf6")},"5ce9":function(e,t,n){"use strict";n("b677")},"6cf6":function(e,t,n){},"944d":function(e,t,n){},aac0:function(e,t,n){},b21e:function(e,t,n){},b677:function(e,t,n){},c68a:function(e,t,n){},c6bf:function(e,t,n){"use strict";n("b21e")},cd49:function(e,t,n){"use strict";n.r(t);n("fd85"),n("15db"),n("c026"),n("4031");var r=n("79c4"),o=(n("241c"),n("bc0d")),c=["scroll","click"],a="lphfloofohjpcjokijgimadbllfckcjb",i=Object(o["b"])("global",{state:function(){return{hasInteracted:!1,hasExtension:!1}},actions:{init:function(){var e=this;c.forEach((function(t){return window.addEventListener(t,e.onInteraction)})),chrome.runtime.sendMessage(a,{type:"version"},(function(){e.hasExtension=void 0==chrome.runtime.lastError}))},onInteraction:function(){var e=this;this.hasInteracted=!0,c.forEach((function(t){return window.removeEventListener(t,e.onInteraction)}))}}}),s=Object(r["defineComponent"])({setup:function(e){var t=i();return t.init(),function(e,t){var n=Object(r["resolveComponent"])("router-view");return Object(r["openBlock"])(),Object(r["createBlock"])(n)}}});n("0344");const l=s;var u=l,d=n("1740");Object(d["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=n("3608"),b=n("7a28"),p=(n("c1c3"),n("494a"),n("18b4")),m=n.n(p),h=(n("103d"),n("966e"),n("3b31"),n("2e30"),n("4d91"),n("a57d"),n("5cc1"),m()({peers:["https://tokether-relay.herokuapp.com/gun"],localStorage:!1,radisk:!0}));h.open((function(e){return console.log("Update data:",e)}));n("dddc"),n("9588"),n("22f4"),n("e0d3"),n("966c");var v=n("e82c"),j=n("2e1a");n("f542"),n("68e1"),n("2631"),n("2252"),n("90fa"),n("234e"),n("feeb"),n("1c98"),n("06a3"),n("1ca0"),n("3a0c"),n("9426"),n("100a"),n("3051"),n("9598"),n("2731"),n("587f"),n("c60d"),n("b285"),n("6a35"),n("b391"),n("1234"),n("dfa9"),n("7c3f"),n("2d6b"),n("0312"),n("1f3b"),n("c666"),n("705d"),n("f1c6"),n("e28c"),n("5a85"),n("7bea");function O(e){var t=new Uint8Array(e/2);return window.crypto.getRandomValues(t),Array.from(t,(function(e){return e.toString(16).padStart(2,"0")})).join("")}var g=n("5b98"),y=n("0435"),I=4,w=4*I,k=2*w;function E(e){var t=V(),n=Object(g["a"])(new Date,new Date(e.lastUpdate)),r=n<=I?"good":n<w?"poor":n<k?"disconnected":"remove";return Object(j["a"])(Object(j["a"])({},e),{},{lastUpdateDiff:n,connectionStatus:r,isConnected:n<w,isCurrent:e.userId==t.userId})}var V=Object(o["b"])("users",{state:function(){var e=localStorage.getItem("userId")||O(16);return localStorage.setItem("userId",e),{userId:e,rawUsers:{},users:[],username:localStorage.getItem("username"),joinTime:null,lastSentUpdate:null,hasConnected:!1}},actions:{init:function(){var e=this;this.joinTime=new Date,this.startHeartbeat(),this.gunUsers.map().on((function(t,n){e.ingestUser(t,n)}),{change:!0})},startHeartbeat:function(){var e=this;console.log("start heartbeat"),clearInterval(this.intervalId),this.intervalId=setInterval((function(){e.heartbeat(),e.processUsers()}),1e3*I),this.heartbeat()},ingestUser:function(e,t){var n;null==e?delete this.rawUsers[t]:t==this.userId&&e.lastUpdate!=(null===(n=this.lastSentUpdate)||void 0===n?void 0:n.toString())||(this.rawUsers[t]=e);this.processUsers()},processUsers:function(){var e=this;this.users=Object.values(this.rawUsers).map((function(e){return E(e)})).sort((function(e,t){return e.isCurrent?-1:Object(y["a"])(new Date(e.joinTime),new Date(t.joinTime))}));var t=this.users.find((function(e){return e.isCurrent}));void 0!=t&&(this.hasConnected=!0),this.users.filter((function(e){return e.lastUpdateDiff>k})).forEach((function(t){e.gunUsers.get(t.userId).put(null),delete e.rawUsers[t.userId]})),this.hasConnected&&(void 0==t||t.lastUpdateDiff>w)&&(console.log("bad heartbeat",null===t||void 0===t?void 0:t.lastUpdateDiff),this.hasConnected=!1,this.startHeartbeat())},heartbeat:function(){var e=this.getCurrentBasicUser();this.lastSentUpdate=new Date(e.lastUpdate),this.gunUser.put(e)},setLoaded:function(e){this.gunUser.put({loaded:e})},leave:function(){clearInterval(this.intervalId),this.gunUsers.off()},setUsername:function(e){this.username=e,localStorage.setItem("username",e),this.heartbeat()}},getters:{gunUsers:function(){var e=F();return e.gunRoom.get("users")},gunUser:function(){return this.gunUsers.get(this.userId)},activeUsers:function(){return Object(v["a"])(this.users.filter((function(e){return e.isCurrent||e.isConnected})))},allLoaded:function(){var e=F();return this.activeUsers.every((function(t){return t.loaded==e.currentItemId}))},getCurrentBasicUser:function(){var e=this;return function(){return{lastUpdate:(new Date).toString(),username:e.username,hasExtension:i().hasExtension,userId:e.userId,joinTime:e.joinTime.toString()}}},currentUser:function(){return E(this.getCurrentBasicUser())}}});function x(e,t){return new Promise((function(n){var o=!1,c=Object(r["watch"])(e,(function(e,t,r){e&&(o&&c(),n()),o=!0}),Object(j["a"])(Object(j["a"])({},t),{},{immediate:!0}))}))}function N(e){return null!=e.source&&"parent"in e.source&&e.source.parent==window&&"https://www.tiktok.com"==e.origin}var B=n("98ad"),S=n("57d2"),C=n("68d6");n("cd24"),n("d50c"),n("534d"),n("32ec"),n("c35d"),n("09f6"),n("da30"),n("f950");function U(e,t){return P.apply(this,arguments)}function P(){return P=Object(b["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:return r=e.sent,e.next=5,r.clone().json().catch((function(e){return console.log("err",e)}));case 5:return r.parsedBody=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function R(e){return _.apply(this,arguments)}function _(){return _=Object(b["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U("https://www.tiktok.com/oembed?url=".concat(t));case 2:return n=e.sent,e.abrupt("return",Object(j["a"])(Object(j["a"])({},n.parsedBody),{},{videoId:T(t)}));case 4:case"end":return e.stop()}}),e)}))),_.apply(this,arguments)}function T(e){return e.match(/(?:video|embed)\/(\d*)/)[1]}function D(e){var t=new RegExp("/(@[a-zA-z0-9_.]+)/video/\\d+");return e.match(t)[1]}function M(e){return"https://www.tiktok.com/embed/".concat(e)}function L(e){return{url:e,author:D(e),videoId:T(e)}}function A(e){return e.itemId==F().currentItemId}var $=Object(o["b"])("playlist",{state:function(){return{playlist:[]}},actions:{init:function(){this.gunPlaylist.load(this.ingestPlaylist),this.gunPlaylist.open(this.ingestPlaylist)},ingestPlaylist:function(e){this.playlist=Object.entries(e).filter((function(e){var t=e[1];return null!=t&&void 0!=t.url})).map((function(e,t){var n=Object(C["a"])(e,2),r=n[0],o=n[1];return Object(j["a"])(Object(j["a"])(Object(j["a"])({},o),L(o.url)),{},{itemId:r,index:t})})),F().setInitialPlaylistItem()},leave:function(){this.gunPlaylist.off(),this.$reset()},addVideos:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=Object(S["a"])(e);try{for(r.s();!(o=r.n()).done;)c=o.value,t.addVideo(c)}catch(a){r.e(a)}finally{r.f()}case 2:case"end":return n.stop()}}),n)})))()},addVideo:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,R(e);case 4:r=n.sent,o={fullInfo:r,url:e},t.gunPlaylist.set(o);case 7:case"end":return n.stop()}}),n)})))()},removeItem:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=F(),r.currentItemId==e&&(o=r.navigatePlaylist(1),o||(o=r.navigatePlaylist(-1)),o||r.setPlaylistItem(void 0)),t.gunPlaylist.put(Object(B["a"])({},e,null));case 3:case"end":return n.stop()}}),n)})))()}},getters:{playlistMap:function(){return new Map(this.playlist.map((function(e){return[e.itemId,e]})))},gunPlaylist:function(){var e=F();return e.gunRoom.get("playlist")}}}),z=Object(o["b"])("player",{state:function(){return{playing:!1,loaded:[],autoplayEnabled:!1}},actions:{init:function(){var e=this;window.addEventListener("message",this.onMessage,!1),this.gunPlayer.open((function(t){e.playing=t.playing,e.setIframePlaying(e.playing)}))},onMessage:function(e){if(N(e))switch(e.data.type){case"loaded":this.loaded.push(e.data.videoId);break;case"embedSetPlaying":this.setPlaying(e.data.playing);break}},leave:function(){window.removeEventListener("message",this.onMessage),this.gunPlayer.off(),this.$reset()},setIframePlaying:function(e,t){var n,r=i();if(r.hasInteracted){void 0==t&&(t=document.querySelector(".current-iframe iframe"));var o=null===(n=t)||void 0===n?void 0:n.contentWindow;null===o||void 0===o||o.postMessage({type:"parentSetPlaying",playing:e},"*")}},setAllIframesPlaying:function(e){var t=this;document.querySelectorAll("iframe").forEach((function(n){return t.setIframePlaying(e,n)}))},setPlaying:function(e){this.autoplayEnabled=!0,this.gunPlayer.put({playing:e})},unloadVideoId:function(e){this.loaded=this.loaded.filter((function(t){return t!=e}))},changedVideo:function(e){var t=this;return Object(b["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.setAllIframesPlaying(!1),null!=e){n.next=3;break}return n.abrupt("return");case 3:return r=i(),n.next=6,x((function(){return t.loaded.includes(e.videoId)&&r.hasInteracted&&t.autoplayEnabled}));case 6:return o=V(),o.setLoaded(e.itemId),n.next=10,x((function(){return o.allLoaded}));case 10:t.setPlaying(!0);case 11:case"end":return n.stop()}}),n)})))()}},getters:{gunPlayer:function(){var e=F();return e.gunRoom.get("player")},loadedVideos:function(){var e=$(),t=F().playlistIndex,n=[t-1,t,t+1,t+2].map((function(t){return e.playlist[t]})).filter((function(e){return e&&e.url}));return n}}});var F=Object(o["b"])("room",{state:function(){return{roomId:null,currentItemId:void 0}},actions:{leave:function(){this.gunRoom.off(),this.$reset(),z().leave(),V().leave(),$().leave()},init:function(){var e=$(),t=z(),n=V();return e.init(),t.init(),n.init(),{playlistStore:e,playerStore:t,usersStore:n}},createRoom:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.roomId=O(4),e.setPlaylistItem(void 0),t.next=4,Bt.push({name:"Room",params:{id:e.roomId}});case 4:case"end":return t.stop()}}),t)})))()},setPlaylistItem:function(e){this.gunRoomState.put({currentItemId:e})},navigatePlaylist:function(e){var t=$().playlist,n=t[this.playlistIndex+e];return!!n&&(this.setPlaylistItem(n.itemId),!0)},setInitialPlaylistItem:function(){if(void 0==this.currentItemId){var e=$(),t=e.playlist[0];t&&this.gunRoomState.put({currentItemId:t.itemId})}},ingestState:function(e){console.log("ingest state",e);var t=this.currentItemId;if(this.currentItemId=e.currentItemId,this.currentItemId!=t){var n=z();n.changedVideo(this.currentItem)}},loadRoom:function(e){var t=this;this.roomId=e,this.init(),this.gunRoomState.load((function(e){return t.ingestState(e)})),this.gunRoomState.open((function(e){t.ingestState(e)}))}},getters:{currentItem:function(){var e;return null==this.currentItemId?null:null!==(e=$().playlistMap.get(this.currentItemId))&&void 0!==e?e:null},gunRoom:function(){return h.get("rooms").get(this.roomId)},gunRoomState:function(){return this.gunRoom.get("state")},playlistIndex:function(){var e,t;return null!==(e=null===(t=this.currentItem)||void 0===t?void 0:t.index)&&void 0!==e?e:-1}}}),H=function(e){return Object(r["pushScopeId"])("data-v-0c3de73e"),e=e(),Object(r["popScopeId"])(),e},q={class:"container"},J={class:"section has-text-centered"},K=H((function(){return Object(r["createElementVNode"])("h1",{class:"title"},[Object(r["createTextVNode"])(" Watch TikToks "),Object(r["createElementVNode"])("span",{class:"glitch-text","data-text":"Tokether"},"Tokether")],-1)})),W=H((function(){return Object(r["createElementVNode"])("p",{class:"subtitle is-3"},"Create a room and share it with your friends",-1)})),Q=Object(r["defineComponent"])({setup:function(e){var t=F();return function(e,n){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",q,[Object(r["createElementVNode"])("section",J,[K,W,Object(r["createElementVNode"])("button",{class:"button is-primary is-large is-outlined",onClick:n[0]||(n[0]=function(e){return Object(r["unref"])(t).createRoom()})}," New room ")])])}}}),Y=(n("c6bf"),n("41ec")),G=n.n(Y);const X=G()(Q,[["__scopeId","data-v-0c3de73e"]]);var Z=X,ee={class:"is-flex-grow-1"},te={class:"tiktok-wrapper"},ne=["src"],re=Object(r["defineComponent"])({props:{videoId:null},setup:function(e){var t=e,n=Object(r["computed"])((function(){return M(t.videoId)}));return Object(r["onUnmounted"])((function(){var e=z();e.unloadVideoId(t.videoId)})),function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ee,[Object(r["createElementVNode"])("div",te,[Object(r["createElementVNode"])("iframe",{src:Object(r["unref"])(n),allowfullscreen:"",scrolling:"no",allow:"autoplay; encrypted-media;"},null,8,ne)])])}}});n("14cd");const oe=G()(re,[["__scopeId","data-v-6633e196"]]);var ce=oe,ae={class:"h-100 player is-flex is-flex-direction-column is-align-items-center"},ie={class:"buttons",style:{width:"100%"}},se=Object(r["defineComponent"])({setup:function(e){var t=F(),n=z();return function(e,o){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ae,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(n).loadedVideos,(function(e){return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(ce,{"video-id":e.videoId,key:e.itemId,style:{overflow:"hidden"},class:Object(r["normalizeClass"])({"current-iframe":Object(r["unref"])(A)(e)})},null,8,["video-id","class"])),[[r["vShow"],Object(r["unref"])(A)(e)]])})),128)),Object(r["createElementVNode"])("div",ie,[Object(r["createElementVNode"])("button",{class:"button is-primary is-flex-grow-1",onClick:o[0]||(o[0]=function(e){return Object(r["unref"])(t).navigatePlaylist(-1)})}," Prev "),Object(r["createElementVNode"])("button",{class:"button is-primary is-flex-grow-1",onClick:o[1]||(o[1]=function(e){return Object(r["unref"])(t).navigatePlaylist(1)}),onKeyup:o[2]||(o[2]=Object(r["withKeys"])((function(e){return Object(r["unref"])(t).navigatePlaylist(1)}),["right"]))}," Next ",32)])])}}});const le=se;var ue=le,de=(n("6991"),n("cbcf"),function(e){return Object(r["pushScopeId"])("data-v-7648dbea"),e=e(),Object(r["popScopeId"])(),e}),fe={class:"playlist-row is-flex is-gap-1 is-align-items-center is-justify-content-space-between is-clickable px-2"},be={class:"thumbnail"},pe=["src"],me=["src"],he={class:"has-text-grey"},ve={class:"buttons is-flex-shrink-0"},je=de((function(){return Object(r["createElementVNode"])("span",{class:"icon"},[Object(r["createElementVNode"])("i",{class:"fas fa-trash fa-lg"})],-1)})),Oe=[je],ge=Object(r["defineComponent"])({props:{item:null},setup:function(e){var t=e,n=F(),o=$(),c=Object(r["computed"])((function(){var e,n;return null!==(e=null===(n=t.item.fullInfo)||void 0===n?void 0:n.author_name)&&void 0!==e?e:t.item.author.replace("@","")})),a=Object(r["computed"])((function(){var e;return null===(e=t.item.fullInfo)||void 0===e?void 0:e.title}));return function(t,i){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",fe,[Object(r["createElementVNode"])("div",be,[Object(r["createElementVNode"])("img",{src:e.item.fullInfo.thumbnail_url},null,8,pe),Object(r["createElementVNode"])("img",{class:"thumbnail-hover",src:e.item.fullInfo.thumbnail_url},null,8,me)]),Object(r["createElementVNode"])("div",{class:Object(r["normalizeClass"])(["video-title is-flex-grow-4",{"has-text-weight-bold":Object(r["unref"])(A)(e.item)}]),onClick:i[0]||(i[0]=function(t){return Object(r["unref"])(n).setPlaylistItem(e.item.itemId)})},[Object(r["createElementVNode"])("span",he,"@"+Object(r["toDisplayString"])(Object(r["unref"])(c)),1),Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(Object(r["unref"])(a)),1)],2),Object(r["createElementVNode"])("div",ve,[Object(r["createElementVNode"])("button",{class:"button is-danger is-small is-outlined",onClick:i[1]||(i[1]=function(t){return Object(r["unref"])(o).removeItem(e.item.itemId)})},Oe)])])}}});n("5ce9");const ye=G()(ge,[["__scopeId","data-v-7648dbea"]]);var Ie=ye,we=function(e){return Object(r["pushScopeId"])("data-v-461407d2"),e=e(),Object(r["popScopeId"])(),e},ke={class:"is-flex is-flex-direction-column h-100"},Ee={class:"is-flex-grow-1 playlist-list",style:{overflow:"auto"}},Ve=we((function(){return Object(r["createElementVNode"])("p",{class:"help has-text-left mt-5 mb-1"}," You can also paste in a list of videos, where each one is on a new line ",-1)})),xe={class:"field has-addons"},Ne={class:"control",style:{width:"100%"}},Be={class:"control"},Se=Object(r["defineComponent"])({setup:function(e){var t=$(),n=Object(r["computed"])((function(){return t.playlist})),o=Object(r["ref"])("");function c(){t.addVideo(o.value),o.value=""}return Object(r["watch"])(o,(function(e){e.includes("\n")&&(t.addVideos(e.split("\n")),o.value="")})),function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ke,[Object(r["createElementVNode"])("div",Ee,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(n),(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(Ie,{key:e.itemId,item:e},null,8,["item"])})),128))]),Ve,Object(r["createElementVNode"])("div",xe,[Object(r["createElementVNode"])("p",Ne,[Object(r["withDirectives"])(Object(r["createElementVNode"])("textarea",{class:"input",placeholder:"Video URL","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.value=e})},null,512),[[r["vModelText"],o.value]])]),Object(r["createElementVNode"])("div",Be,[Object(r["createElementVNode"])("button",{class:"button is-primary",onClick:t[1]||(t[1]=function(e){return c()})},"Queue")])])])}}});n("2fb0");const Ce=G()(Se,[["__scopeId","data-v-461407d2"]]);var Ue=Ce,Pe={class:"navbar"},Re={class:"container"},_e={class:"navbar-brand"},Te={class:"navbar-item"},De=Object(r["createTextVNode"])(" Tokether ");function Me(e,t){var n=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createElementBlock"])("nav",Pe,[Object(r["createElementVNode"])("div",Re,[Object(r["createElementVNode"])("div",_e,[Object(r["createElementVNode"])("a",Te,[Object(r["createVNode"])(n,{to:"/",class:"title is-3 glitch-text is-slow","data-text":"Tokether"},{default:Object(r["withCtx"])((function(){return[De]})),_:1})])])])])}const Le={},Ae=G()(Le,[["render",Me]]);var $e=Ae,ze=function(e){return Object(r["pushScopeId"])("data-v-70ac0ad0"),e=e(),Object(r["popScopeId"])(),e},Fe={class:"tags"},He={class:"icon-text"},qe={key:0,class:"icon has-tooltip-arrow has-tooltip-bottom","data-tooltip":"This is you!"},Je=ze((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-user"},null,-1)})),Ke=[Je],We={key:1,class:"icon"},Qe=ze((function(){return Object(r["createElementVNode"])("span",null,null,-1)})),Ye=ze((function(){return Object(r["createElementVNode"])("span",null,null,-1)})),Ge=ze((function(){return Object(r["createElementVNode"])("span",null,null,-1)})),Xe=[Qe,Ye,Ge],Ze={key:2,class:"icon has-text-danger-dark has-tooltip-arrow has-tooltip-multiline has-tooltip-bottom","data-tooltip":"This user doesn't have the Tokether extension - autoplay will be disabled for everyone"},et=ze((function(){return Object(r["createElementVNode"])("i",{class:"fas fa-puzzle-piece"},null,-1)})),tt=[et],nt=Object(r["defineComponent"])({setup:function(e){var t=V(),n=Object(r["computed"])((function(){return t.activeUsers}));return function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",Fe,[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(Object(r["unref"])(n),(function(e){return Object(r["openBlock"])(),Object(r["createElementBlock"])("span",{key:e.userId,class:"tag is-info is-large is-secondary is-rounded"},[Object(r["createElementVNode"])("span",He,[e.isCurrent?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",qe,Ke)):Object(r["createCommentVNode"])("",!0),"good"!==e.connectionStatus?(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",We,[Object(r["createElementVNode"])("span",{class:Object(r["normalizeClass"])(["signal",{"has-text-warning":"poor"===e.connectionStatus,"has-text-danger":"poor"!==e.connectionStatus}])},Xe,2)])):Object(r["createCommentVNode"])("",!0),e.hasExtension?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])("span",Ze,tt)),Object(r["createElementVNode"])("span",null,Object(r["toDisplayString"])(e.username),1)])])})),128))])}}});n("4d27");const rt=G()(nt,[["__scopeId","data-v-70ac0ad0"]]);var ot=rt,ct={key:0,class:"modal is-active",id:"modal"},at={class:"modal-card"},it={key:0,class:"modal-card-head"},st={class:"modal-card-title"},lt={class:"modal-card-body"},ut={key:1,class:"modal-card-foot buttons is-right mb-0"},dt=Object(r["defineComponent"])({props:{open:{type:Boolean},title:null,closable:{type:Boolean,default:!0}},emits:["close"],setup:function(e,t){var n=t.emit;return function(t,o){return Object(r["openBlock"])(),Object(r["createBlock"])(r["Teleport"],{to:"#app"},[Object(r["createVNode"])(r["Transition"],{name:"fade"},{default:Object(r["withCtx"])((function(){return[e.open?(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",ct,[Object(r["createElementVNode"])("div",{class:"modal-background",onClick:o[0]||(o[0]=function(e){return n("close")})}),Object(r["createElementVNode"])("div",at,[t.$slots.header||e.title?(Object(r["openBlock"])(),Object(r["createElementBlock"])("header",it,[Object(r["renderSlot"])(t.$slots,"header",{},(function(){return[Object(r["createElementVNode"])("p",st,Object(r["toDisplayString"])(e.title),1)]}))])):Object(r["createCommentVNode"])("",!0),Object(r["createElementVNode"])("section",lt,[Object(r["renderSlot"])(t.$slots,"default")]),t.$slots.footer?(Object(r["openBlock"])(),Object(r["createElementBlock"])("footer",ut,[Object(r["renderSlot"])(t.$slots,"footer")])):Object(r["createCommentVNode"])("",!0),e.closable?(Object(r["openBlock"])(),Object(r["createElementBlock"])("button",{key:2,onClick:o[1]||(o[1]=function(e){return n("close")}),class:"modal-close is-large","aria-label":"close"})):Object(r["createCommentVNode"])("",!0)])])):Object(r["createCommentVNode"])("",!0)]})),_:3})])}}});n("1af1");const ft=G()(dt,[["__scopeId","data-v-867af19a"]]);var bt=ft,pt={class:"hero"},mt={class:"hero-head"},ht={class:"hero-body is-align-items-stretch"},vt={class:"tile is-ancestor h-100"},jt={class:"tile is-parent fh-column"},Ot={class:"tile is-child box h-100"},gt={key:1,class:"title is-5 is-flex is-justify-content-center is-align-items-center h-100"},yt={class:"tile is-4 is-vertical is-parent fh-column"},It={class:"tile is-child box"},wt={class:"tile is-child box is-flex-grow-3",style:{overflow:"hidden"}},kt=Object(r["defineComponent"])({props:{id:null},setup:function(e){var t,n=e,o=F(),c=V(),a=$();o.loadRoom(n.id),Object(r["onUnmounted"])((function(){return o.leave()}));var i=Object(r["ref"])(null!==(t=c.username)&&void 0!==t?t:""),s=Object(r["computed"])((function(){return a.playlist.length>0}));return function(e,t){return Object(r["openBlock"])(),Object(r["createElementBlock"])("section",pt,[Object(r["createElementVNode"])("div",mt,[Object(r["createVNode"])($e)]),Object(r["createElementVNode"])("div",ht,[Object(r["createElementVNode"])("div",vt,[Object(r["createElementVNode"])("div",jt,[Object(r["createElementVNode"])("div",Ot,[Object(r["unref"])(s)?(Object(r["openBlock"])(),Object(r["createBlock"])(ue,{key:0})):(Object(r["openBlock"])(),Object(r["createElementBlock"])("div",gt," Add a video to the playlist to start watching! "))])]),Object(r["createElementVNode"])("div",yt,[Object(r["createElementVNode"])("div",It,[Object(r["createVNode"])(ot)]),Object(r["createElementVNode"])("div",wt,[Object(r["createVNode"])(Ue)])])])]),Object(r["createVNode"])(bt,{open:null==Object(r["unref"])(c).username,title:"Set username",closable:!1},{footer:Object(r["withCtx"])((function(){return[Object(r["createElementVNode"])("button",{class:"button is-primary",onClick:t[1]||(t[1]=function(e){return Object(r["unref"])(c).setUsername(i.value)})}," Save ")]})),default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createElementVNode"])("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.value=e}),placeholder:"Username"},null,512),[[r["vModelText"],i.value]])]})),_:1},8,["open"])])}}});n("fef7");const Et=G()(kt,[["__scopeId","data-v-b8012d84"]]);var Vt=Et,xt=[{path:"/",name:"Home",component:Z},{path:"/room/:id",name:"Room",component:Vt,props:!0}],Nt=Object(f["a"])({history:Object(f["b"])("/"),routes:xt}),Bt=Nt;n("944d"),n("3af0"),n("ea3c");Object(r["createApp"])(u).use(Object(o["a"])()).use(Bt).mount("#app")},d86d:function(e,t,n){},fef7:function(e,t,n){"use strict";n("136c")}});
//# sourceMappingURL=app.53d1b733.js.map